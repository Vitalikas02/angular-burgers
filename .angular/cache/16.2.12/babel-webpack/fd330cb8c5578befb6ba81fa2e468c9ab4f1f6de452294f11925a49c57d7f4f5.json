{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AppComponent = class AppComponent {\n  constructor(fb, appService) {\n    this.fb = fb;\n    this.appService = appService;\n    this.currency = '$';\n    this.loaderShowed = true;\n    this.loader = true;\n    this.form = this.fb.group({\n      order: [\"\", Validators.required],\n      name: [\"\", Validators.required],\n      phone: [\"\", Validators.required]\n    });\n  }\n  onMouseMove(e) {\n    this.orderImageStyle = {\n      transform: 'translate(-' + e.clientX * 0.3 / 8\n    };\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      this.loaderShowed = false;\n    }, 3000);\n    setTimeout(() => {\n      this.loader = false;\n    }, 4000);\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n  scrollTo(target, burger) {\n    target.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    if (burger) {\n      this.form.patchValue({\n        order: burger.title + ' (' + burger.price + ' ' + this.currency + ')'\n      });\n    }\n  }\n  confirmOrder() {\n    if (this.form.valid) {\n      this.appService.sendOrder(this.form.value).subscribe({\n        next: response => {\n          alert(response.message);\n        },\n        error: response => {\n          alert(response.error.message);\n        }\n      });\n      alert(\"Спасибо за заказ! Мы скоро свяжемся с вами!\");\n      this.form.reset();\n    }\n  }\n  changeCurrency() {\n    let newCurrency = \"$\";\n    let coef = 1;\n    if (this.currency === \"$\") {\n      newCurrency = \"₽\";\n      coef = 92.4;\n    }\n    if (this.currency === \"₽\") {\n      newCurrency = \"BYN\";\n      coef = 3.24;\n    }\n    if (this.currency === \"BYN\") {\n      newCurrency = \"€\";\n      coef = 0.9;\n    }\n    if (this.currency === \"€\") {\n      newCurrency = \"Ұ\";\n      coef = 7.24;\n    } else if (this.currency === \"Ұ\") {\n      newCurrency = \"¥\";\n      coef = 150;\n    }\n    this.currency = newCurrency;\n    this.productsData.forEach(item => {\n      item.price = +(item.basePrice * coef).toFixed(1);\n    });\n  }\n};\n__decorate([HostListener('document:mousemove', ['$event'])], AppComponent.prototype, \"onMouseMove\", null);\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","HostListener","Validators","AppComponent","constructor","fb","appService","currency","loaderShowed","loader","form","group","order","required","name","phone","onMouseMove","e","orderImageStyle","transform","clientX","ngOnInit","setTimeout","getData","subscribe","data","productsData","scrollTo","target","burger","scrollIntoView","behavior","patchValue","title","price","confirmOrder","valid","sendOrder","value","next","response","alert","message","error","reset","changeCurrency","newCurrency","coef","forEach","item","basePrice","toFixed","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Vitalikas\\Desktop\\IT-Logia_Project\\angular-burgers\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, HostListener } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AppService } from './app.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  currency = '$';\n  loaderShowed = true;\n  loader = true;\n\n  orderImageStyle: any;\n  mainImageStyle: any;\n\n  form = this.fb.group({\n    order: [\"\", Validators.required],\n    name: [\"\", Validators.required],\n    phone: [\"\", Validators.required]\n  })\n\n  productsData: any;\n\n  constructor(private fb: FormBuilder, private appService: AppService) {\n\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onMouseMove(e: MouseEvent) {\n    this.orderImageStyle = {transform: 'translate(-' + ((e.clientX * 0.3) / 8)}\n  }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.loaderShowed = false;\n    }, 3000);\n    setTimeout(() => {\n      this.loader = false;\n    }, 4000);\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n\n  scrollTo(target: HTMLElement, burger?: any) {\n    target.scrollIntoView({ behavior: \"smooth\" });\n    if (burger) {\n      this.form.patchValue({ order: burger.title + ' (' + burger.price + ' ' + this.currency + ')' });\n    }\n  }\n\n  confirmOrder() {\n    if (this.form.valid) {\n      this.appService.sendOrder(this.form.value)\n        .subscribe(\n          {\n            next: (response: any) => {\n              alert(response.message);\n            },\n            error: (response: any) => {\n              alert(response.error.message);\n            },\n          }\n        );\n      alert(\"Спасибо за заказ! Мы скоро свяжемся с вами!\");\n      this.form.reset();\n    }\n  }\n\n  changeCurrency() {\n    let newCurrency = \"$\";\n    let coef = 1;\n\n    if (this.currency === \"$\") {\n      newCurrency = \"₽\";\n      coef = 92.4;\n    }\n    if (this.currency === \"₽\") {\n      newCurrency = \"BYN\";\n      coef = 3.24;\n    }\n    if (this.currency === \"BYN\") {\n      newCurrency = \"€\";\n      coef = 0.9;\n    }\n    if (this.currency === \"€\") {\n      newCurrency = \"Ұ\";\n      coef = 7.24;\n    }\n    else if (this.currency === \"Ұ\") {\n      newCurrency = \"¥\";\n      coef = 150;\n    }\n\n    this.currency = newCurrency;\n\n    this.productsData.forEach((item: any) => {\n      item.price = +(item.basePrice * coef).toFixed(1);\n    })\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}