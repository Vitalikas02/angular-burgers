{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AppComponent = class AppComponent {\n  constructor(fb, appService) {\n    this.fb = fb;\n    this.appService = appService;\n    this.currency = '$';\n    this.form = this.fb.group({\n      order: [\"\", Validators.required],\n      name: [\"\", Validators.required],\n      phone: [\"\", Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n  scrollTo(target, burger) {\n    target.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    if (burger) {\n      this.form.patchValue({\n        order: burger.title + ' (' + burger.price + ' ' + this.currency + ')'\n      });\n    }\n  }\n  confirmOrder() {\n    if (this.form.valid) {\n      this.appService.sendOrder(this.form.value).subscribe({\n        next: response => {\n          alert(response.message);\n        },\n        error: response => {\n          alert(response.error.message);\n        }\n      });\n      alert(\"Спасибо за заказ! Мы скоро свяжемся с вами!\");\n      this.form.reset();\n    }\n  }\n  changeCurrency() {\n    let newCurrency = \"$\";\n    let coef = 1;\n    if (this.currency === \"$\") {\n      newCurrency = \"₽\";\n      coef = 92.4;\n    }\n    if (this.currency === \"₽\") {\n      newCurrency = \"BYN\";\n      coef = 3.24;\n    }\n    if (this.currency === \"BYN\") {\n      newCurrency = \"€\";\n      coef = 0.9;\n    }\n    if (this.currency === \"€\") {\n      newCurrency = \"Ұ\";\n      coef = 7.24;\n    } else if (this.currency === \"Ұ\") {\n      newCurrency = \"¥\";\n      coef = 150;\n    }\n    this.currency = newCurrency;\n    this.productsData.forEach(item => {\n      item.price = +(item.basePrice * coef).toFixed(1);\n    });\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","Validators","AppComponent","constructor","fb","appService","currency","form","group","order","required","name","phone","ngOnInit","getData","subscribe","data","productsData","scrollTo","target","burger","scrollIntoView","behavior","patchValue","title","price","confirmOrder","valid","sendOrder","value","next","response","alert","message","error","reset","changeCurrency","newCurrency","coef","forEach","item","basePrice","toFixed","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Vitalikas\\Desktop\\IT-Logia_Project\\angular-burgers\\src\\app\\app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AppService } from './app.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  currency = '$';\n\n  form = this.fb.group({\n    order: [\"\", Validators.required],\n    name: [\"\", Validators.required],\n    phone: [\"\", Validators.required]\n  })\n\n  productsData: any;\n\n  constructor(private fb: FormBuilder, private appService: AppService) {\n\n  }\n\n  ngOnInit() {\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n\n  scrollTo(target: HTMLElement, burger?: any) {\n    target.scrollIntoView({ behavior: \"smooth\" });\n    if (burger) {\n      this.form.patchValue({ order: burger.title + ' (' + burger.price + ' ' + this.currency + ')' });\n    }\n  }\n\n  confirmOrder() {\n    if (this.form.valid) {\n      this.appService.sendOrder(this.form.value)\n        .subscribe(\n          {\n            next: (response: any) => {\n              alert(response.message);\n            },\n            error: (response: any) => {\n              alert(response.error.message);\n            },\n          }\n        );\n      alert(\"Спасибо за заказ! Мы скоро свяжемся с вами!\");\n      this.form.reset();\n    }\n  }\n\n  changeCurrency() {\n    let newCurrency = \"$\";\n    let coef = 1;\n\n    if (this.currency === \"$\") {\n      newCurrency = \"₽\";\n      coef = 92.4;\n    }\n    if (this.currency === \"₽\") {\n      newCurrency = \"BYN\";\n      coef = 3.24;\n    }\n    if (this.currency === \"BYN\") {\n      newCurrency = \"€\";\n      coef = 0.9;\n    }\n    if (this.currency === \"€\") {\n      newCurrency = \"Ұ\";\n      coef = 7.24;\n    }\n    else if (this.currency === \"Ұ\") {\n      newCurrency = \"¥\";\n      coef = 150;\n    }\n\n    this.currency = newCurrency;\n\n    this.productsData.forEach((item: any) => {\n      item.price = +(item.basePrice * coef).toFixed(1);\n    })\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}